(()=>{let e=new DataTable("#myTable",{ajax:"/songs.txt",columns:[{data:"Title",render:function(e,t,a){if("display"===t){let t=null;return!0===a.Duo&&!0===a.Explicit?(t='   <span style="color:navy">(Duet) </span> &nbsp;<span style="color:dimgray">&#127348;</span> ',e+t):!0===a.Duo?(t='   <span style="color:navy">(Duet)</span>',e+t):!0===a.Explicit?(t='   <span style="color:dimgray">&#127348;</span>',e+t):e}return e}},{data:"Artist"},{data:"Year"},{data:"Duo",render:function(e,t,a,r){return"display"===t?!0===e?'<span style="color:blue">Duet</span>':"":e}},{data:"Explicit",render:function(e,t,a,r){return"display"===t?!0===e?'<span style="color:red">Explicit</span>':"":e}},{data:"SongId"},{data:"Request"}],order:[[0,"asc"]],columnDefs:[{targets:[0],orderData:[0,1]},{targets:[1],orderData:[1,0]},{target:3,visible:!1},{target:4,visible:!1},{target:5,visible:!1,searchable:!1},{data:null,defaultContent:"<button>Request!</button>",targets:-1}],lengthMenu:[25,50,100,250],search:{return:!0}});e.on("click","tbody tr",(function(){let t=e.row(this).data();console.log(e.row(this).data()),alert("Request: "+t.Title+" by "+t.Artist+" -- SongId: "+t.SongId)})),document.querySelectorAll("input.global_filter").forEach((t=>{t.addEventListener("text"===t.type?"keyup":"change",(()=>function(e){let t=document.querySelector("#global_filter"),a=document.querySelector("#global_regex"),r=document.querySelector("#global_smart");e.search(t.value,a.checked,r.checked).draw()}(e)))})),document.querySelectorAll("input.column_filter").forEach((t=>{let a=t.closest("tr").getAttribute("data-column");t.addEventListener("text"===t.type?"keyup":"change",(()=>function(e,t){let a=document.querySelector("#col"+t+"_filter"),r=document.querySelector("#col"+t+"_regex"),l=document.querySelector("#col"+t+"_smart");e.column(t).search(a.value,r.checked,l.checked).draw()}(e,a)))}))})();